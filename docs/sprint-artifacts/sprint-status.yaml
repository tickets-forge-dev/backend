# generated: 2026-02-21
# project: forge
# project_key: FORGE
# tracking_system: file-system
# story_location: docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted: Epic tech context created (required before drafting stories)
#   - in-progress: Epic actively being worked on
#   - done: Epic completed
#   - deferred: Epic intentionally postponed (not needed for MVP)
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder
#   - ready-for-dev: Draft approved and story context created
#   - in-progress: Developer actively working on implementation
#   - review: Under SM review (via code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done
#
# WORKFLOW NOTES:
# ===============
# - Epics should be 'contexted' before stories can be 'drafted'
# - Stories can be worked in parallel if team capacity allows
# - SM typically drafts next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', SM reviews, then Dev moves to 'done'

generated: 2026-02-21
project: forge
project_key: FORGE
tracking_system: file-system
story_location: docs/sprint-artifacts

development_status:

  # ============================================================================
  # FORGE TEAMS + CLI + MCP IMPLEMENTATION PLAN
  # Duration: 8-15 weeks | 9 Epics | 71 Stories
  # Goal: Multi-team collaborative platform with developer CLI + MCP
  # Updated: 2026-02-18 - Full plan with interactive CLI & BMAD integration
  # ============================================================================

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PHASE 1 (Weeks 1-2): Team Foundation âœ… COMPLETE
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 1: Team Foundation (P0) - 10 stories, ~17 days
  # Status: âœ… DONE - All 10 stories complete, fully implemented
  epic-1-team-foundation: done
  1-1-team-domain-model: done
  1-2-team-repository: done
  1-3-user-domain-extension: done
  1-4-team-use-cases: done
  1-5-team-api-endpoints: done
  1-6-team-service-frontend: done
  1-7-team-store: done
  1-8-team-switcher-ui: done
  1-9-team-settings-page: done
  1-10-create-team-dialog: done
  epic-1-team-foundation-retrospective: optional

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PHASE 2 (Weeks 3-4): Team Collaboration (Members + Onboarding)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 3: Members & Roles (P0) - 8 stories, ~16 days
  # Status: âœ… DONE - All 8 stories complete
  # Next: 3-4-email-invitation-system
  epic-3-members-roles: done
  3-1-team-member-domain: done
  3-2-team-member-repository: done
  3-3-member-use-cases: done
  3-4-email-invitation-system: done
  3-5-member-api-endpoints: done
  3-6-role-guards: done
  3-7-team-members-list-ui: done
  3-8-invite-member-dialog: done
  epic-3-members-roles-retrospective: optional

  # EPIC 3.5: Non-Technical PM Support (P0) - 5 stories, ~8 days
  # Status: âœ… DONE - All 5 stories complete (2026-02-20)
  # Goal: Support both technical and non-technical PMs with optional Git access
  # Key: Repository optional + dynamic agent conversations + ticket assignment
  epic-3-5-non-technical-pm-support: done
  3-5-1-repository-optional-flag: done
  3-5-2-conditional-deep-analysis: done
  3-5-3-step2-loader-messages: done
  3-5-4-repository-checkbox-messaging: done
  3-5-5-assign-ticket-to-developer: done
  epic-3-5-non-technical-pm-support-retrospective: optional

  # EPIC 4: Enhanced Onboarding (P0) - 4 stories, ~5 days
  # Status: âœ… DONE - All 4 stories complete (2026-02-19)
  # Completed: Dark theme for auth/onboarding, team name step, role selection with backend save, role clarity in settings
  epic-4-enhanced-onboarding: done
  4-1-onboarding-state-machine: done
  4-2-team-name-step: done
  4-3-role-selection-step: done
  4-4-auth-flow-integration: done
  epic-4-enhanced-onboarding-retrospective: optional

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PHASE 3 (Weeks 5-6): CLI Foundation
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 5: CLI Foundation (P0) - 8 stories, ~14 days
  # Status: âœ… DONE - All 8 stories complete (2026-02-20)
  # Completed: 48 tests passing, TypeScript clean, CJS native (no ESM deps)
  # Deliverable: forge login/logout/list/show/review/execute â€” npm-installable CLI
  epic-5-cli-foundation: done
  5-1-cli-project-setup: done
  5-2-login-command-oauth: done
  5-3-logout-command: done
  5-4-interactive-ticket-list: done
  5-5-ticket-detail-view: done
  5-6-action-handlers-stub: done
  5-7-config-management: done
  5-8-error-handling-offline: done
  epic-5-cli-foundation-retrospective: optional

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PHASE 4 (Weeks 7-8): MCP Server
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 6: MCP Server (P0) - 13 stories, ~20 days
  # Status: âœ… DONE - All 13 stories complete (2026-02-21)
  # Key: BMAD agent integration for dynamic PM-Developer conversations
  # UX: Developer presses [r] â†’ BMAD agent asks dynamic questions â†’ enriches ticket
  epic-6-mcp-server: done
  6-1-mcp-server-setup: done
  6-2-ticket-context-tool: done
  6-3-file-changes-tool: done
  6-4-repository-context-tool: done
  6-5-status-update-tool: done
  6-6-execute-prompt: done
  6-7-review-prompt: done
  6-8-agent-guide-executor: done
  6-9-agent-guide-reviewer: done
  6-10-mcp-integration-tests: done
  6-11-cli-mcp-plumbing: done
  6-12-ticket-review-mcp-tools: done
  6-13-bmad-review-agent: done
  epic-6-mcp-server-retrospective: optional

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # PHASE 5 (Weeks 9+): Integration & Launch
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 7: Ticket Lifecycle (P1) - 10 stories, ~17 days
  # Status: ðŸ”„ IN-PROGRESS - 6/10 done, 7-2 ready-for-dev, 7-7 through 7-10 backlog
  # Dependencies: Role-based authorization from Epic 3
  # Key: Full PMâ†’Devâ†’PM workflow with tech-spec agent sessions + ticket re-enrichment
  #
  # FULL FLOW (with re-bake):
  #   PM creates ticket â†’ AI enriches â†’ READY
  #   Dev: forge review â†’ invokes forge_review prompt â†’ tech-spec-reviewer agent session
  #        (open-ended: unknown duration, not "5 generic questions")
  #        Agent explores codebase, makes decisions, surfaces edge cases
  #        Session ends with structured JSON output â†’ submit_review_session MCP tool
  #        â†’ QUESTIONS_GENERATED
  #   [Epic 7] Structured review session stored â†’ PM notified â†’ WAITING_FOR_APPROVAL
  #   [Epic 7] PM opens ticket â†’ sees Q&A â†’ clicks "Re-bake Ticket"
  #            â†’ AI re-runs enrichment with Q&A as context â†’ fully-baked ticket
  #            â†’ PM reviews diff â†’ clicks Approve â†’ READY (fully approved)
  #   Dev: forge execute â†’ Claude gets FULLY-BAKED ticket via get_ticket_context
  #        â†’ writes code â†’ update_ticket_status â†’ CREATED
  #
  # RE-BAKE ARCHITECTURE (7-10):
  #   POST /api/tickets/:id/re-enrich
  #   Input:  original ticket fields + conversationId (Q&A from 7-3)
  #   AI:     "Given ticket + Q&A, produce complete execution-ready ticket"
  #   Output: updated acceptance criteria, explicit edge cases, clear tech specs
  #   Reuses existing AI enrichment service â€” same pipeline, richer input
  #   See: docs/sprint-artifacts/stories/7-design-notes.md
  epic-7-ticket-lifecycle: in-progress
  7-1-extend-aec-status-enum: done
  7-2-move-tickets-to-team-scope: review
  7-3-conversation-storage: done
  7-4-conversation-api: done
  7-5-update-ticket-filters: done
  7-6-conversation-viewer-ui: done
  7-7-ticket-re-enrich-with-qa: drafted
  7-8-approve-button-pm-only: backlog
  7-9-status-sync-web-cli: backlog
  7-10-ticket-creation-updates: backlog
  epic-7-ticket-lifecycle-retrospective: optional

  # EPIC 8: Testing & Documentation (P2) - 6 stories, ~11 days
  # Status: â¬œ NOT STARTED - Can start anytime (parallel with other epics)
  # Note: Can be worked on incrementally alongside feature development
  epic-8-testing-documentation: backlog
  8-1-backend-unit-tests: backlog
  8-2-frontend-component-tests: backlog
  8-3-cli-integration-tests: backlog
  8-4-user-documentation: backlog
  8-5-api-documentation: backlog
  8-6-architecture-update: backlog
  epic-8-testing-documentation-retrospective: optional

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # DEFERRED EPICS (Not needed for MVP)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  # EPIC 2: Workspace Management (Multi-Repo Support)
  # Status: ðŸ”µ DEFERRED - Not needed for Teams + CLI + MCP MVP
  # Reason: Single repo per ticket is sufficient for MVP. Multi-repo support
  #         can be added later when PMs need to work on features spanning
  #         multiple repositories (e.g., frontend + backend + shared).
  # Partial work complete: Domain model (2-1) and Repository (2-2) done
  epic-2-workspace-management: deferred
  2-1-workspace-domain-model: done
  2-2-workspace-repository: done
  2-3-workspace-use-cases: deferred
  2-4-workspace-api-endpoints: deferred
  2-5-workspace-service-frontend: deferred
  2-6-workspace-store: deferred
  2-7-workspace-selector: deferred
  2-8-workspace-management-page: deferred
