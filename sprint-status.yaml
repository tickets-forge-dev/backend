# Sprint Status ‚Äî Forge
# Last Updated: 2026-02-07
# Current Phase: MVP Complete, Pre-Launch Gate Wrapping Up

generated: 2026-02-07
project: Forge (AI-Powered Ticket Generation)
tracking_system: GitHub
story_location: "docs/epics"

# EPIC COMPLETION TRACKING
# =======================
# Status Definitions:
#   - backlog: Epic not started
#   - in-progress: 1+ stories actively being developed
#   - done: All stories complete

development_status:

  # ‚úÖ COMPLETED EPICS
  epic-1:
    status: done
    completion: 100%
    stories: 2/2
    summary: "Foundation (infrastructure, design system)"
    last_updated: 2026-01-15
    deliverables:
      - 1-1-project-setup: done
      - 1-2-design-system: done

  epic-1-5:
    status: done
    completion: 100%
    stories: 2/2
    summary: "OAuth Authentication"
    last_updated: 2026-02-01
    deliverables:
      - 1-5-1-oauth-login-ui: done
      - 1-5-2-backend-auth-guards: done

  epic-2:
    status: done
    completion: 100%
    stories: 5/5
    summary: "Ticket Creation & AEC Engine"
    last_updated: 2026-02-06
    deliverables:
      - 2-1-ticket-creation-ui: done
      - 2-2-generation-progress: done
      - 2-3-aec-domain-model: done
      - 2-4-question-generation: done
      - 2-5-question-round-management: done

  epic-9:
    status: done
    completion: 100%
    stories: 6/6
    summary: "BMAD Tech-Spec Integration (Deep LLM Analysis)"
    last_updated: 2026-02-06
    deliverables:
      - 9-1-github-file-service: done
      - 9-2-project-stack-detector: done
      - 9-3-codebase-analyzer: done
      - 9-4-tech-spec-generator: done
      - 9-5-frontend-4-stage-wizard: done
      - 9-6-deep-analysis-pipeline: done

  # üî¥ URGENT ‚Äî PRE-LAUNCH GATE (Sprint 0)
  epic-0:
    status: in-progress
    completion: 75%
    stories: 4/4
    summary: "Pre-Launch: Anthropic Production Test + Free Tier Gate"
    priority: "P0 URGENT (Must ship before anything else)"
    planned_start: "NOW"
    dependencies: "None"
    deliverables:
      - 0-1-test-anthropic-production: done            # Verified ‚Äî Anthropic API working in production
      - 0-2-cheapest-model-selection: done             # Switched all LLM defaults to claude-3-5-haiku-20241022 (cheapest with vision)
      - 0-3-free-tier-ticket-limit: done              # Free tier: 3 tickets (15 for admin), backend guard + sidebar quota banner
      - 0-4-mock-pricing-page: review               # Pricing: Free ($0/3 tickets), Pro ($12/30 tickets), Team ($59/unlimited)

  # ‚ö™ BACKLOG ‚Äî MONETIZATION TRACK
  epic-5:
    status: backlog
    completion: 0%
    stories: 8/8
    summary: "Export & Integrations (Linear, Jira, GitHub Issues + Artifact Bundle)"
    priority: "P1"
    planned_start: "Phase 2"
    dependencies: "Enhanced by: Epic 18 (docs artifact), Epic 16 (image artifacts)"
    source: "EPIC-FUTURE-FEATURES.md Epic 5 + EPIC-ONBOARDING-GAPS.md Stories 4-5"
    deliverables:
      - 5-1-linear-oauth: backlog                    # Linear OAuth module, token service, settings UI
      - 5-2-jira-oauth: backlog                      # Jira OAuth 2.0, Atlassian cloud ID, settings UI
      - 5-3-linear-api-client: backlog               # GraphQL API wrapper + TechSpec ‚Üí Linear field mapper
      - 5-4-jira-api-client: backlog                 # REST API v3 wrapper + standard field mapper
      - 5-5-aec-xml-serializer: backlog              # Serialize AEC domain ‚Üí .xml contract for export
      - 5-6-artifact-bundle-assembler: backlog        # Collect AEC XML + docs + images for platform upload
      - 5-7-platform-attachment-upload: backlog       # Jira multipart + Linear attachmentCreate mutation
      - 5-8-export-use-case-ui: backlog              # ExportTicketUseCase, POST /tickets/:id/export, dropdown UI

  epic-10:
    status: backlog
    completion: 0%
    stories: 6/6
    summary: "Revenue Infrastructure (Stripe + Subscription Tiers)"
    priority: "P0 (Revenue unlock)"
    planned_start: "Phase 1"
    dependencies: "None (MVP complete)"
    deliverables:
      - 10-1-subscription-domain-model: backlog      # Subscription entity in Firestore (tier, status, limits)
      - 10-2-stripe-checkout-integration: backlog    # Stripe Checkout + Billing for sign-up flow
      - 10-3-subscription-guard: backlog             # NestJS guard ‚Äî check tier before ticket generation
      - 10-4-usage-metering: backlog                 # Count tickets per workspace per month, enforce limits
      - 10-5-stripe-customer-portal: backlog         # Self-serve billing (upgrade/downgrade/cancel)
      - 10-6-pricing-page-ui: done                    # ‚úÖ Completed via Story 0-4 (mock pricing page)

  epic-11:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Launch Readiness (Landing Page, Legal, Monitoring, Analytics)"
    priority: "P0 (Required before charging)"
    planned_start: "Phase 1 (parallel with Epic 10)"
    dependencies: "None (can start independently)"
    deliverables:
      - 11-1-landing-page: backlog                   # Value prop, demo video, pricing section (Next.js page)
      - 11-2-terms-and-privacy: backlog              # ToS + Privacy Policy pages
      - 11-3-error-monitoring-sentry: backlog        # Sentry integration (frontend + backend)
      - 11-4-analytics-posthog: backlog              # PostHog/Mixpanel free tier ‚Äî key events tracking
      - 11-5-transactional-emails: backlog           # Welcome, receipt, approaching-limit notifications

  epic-12:
    status: backlog
    completion: 0%
    stories: 3/3
    summary: "GitHub-Free Generation Mode (PM Gap Bridge)"
    priority: "P1 (Broadens TAM ‚Äî unlocks non-technical users)"
    planned_start: "Phase 2"
    dependencies: "None (generation pipeline already works)"
    deliverables:
      - 12-1-manual-context-wizard-path: backlog     # New wizard path: skip repo, describe your project
      - 12-2-tech-stack-presets: backlog             # Preset templates (React+Node, Django+PG, etc.)
      - 12-3-generation-without-repo: backlog        # Make repo analysis optional in generation pipeline

  epic-13:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Team Workspace with Role-Based Access"
    priority: "P1 (Seat expansion driver ‚Äî Team tier core feature)"
    planned_start: "Phase 3"
    dependencies: "Blocked by: Epic 10 (subscription model needed)"
    deliverables:
      - 13-1-workspace-role-domain-model: backlog    # WorkspaceRole enum, WorkspaceMember entity
      - 13-2-invite-system: backlog                  # Generate invite token ‚Üí email/link ‚Üí accept ‚Üí join
      - 13-3-role-guard: backlog                     # NestJS RoleGuard (permission enforcement per endpoint)
      - 13-4-role-aware-ui: backlog                  # Adaptive sidebar + conditional rendering per role
      - 13-5-onboarding-role-picker: backlog         # "I'm a PM / Tech Lead / Developer" at sign-up

  epic-14:
    status: backlog
    completion: 0%
    stories: 3/3
    summary: "Multi-Repo Cross-Reference"
    priority: "P2 (Team tier killer feature)"
    planned_start: "Phase 4"
    dependencies: "Blocked by: Epic 9 (repo analysis)"
    deliverables:
      - 14-1-multi-repo-selection-ui: backlog        # Select multiple repos in wizard
      - 14-2-merged-analysis-pipeline: backlog       # Combine analysis from N repos into unified context
      - 14-3-cross-repo-ticket-generation: backlog   # Tickets with steps spanning repos

  epic-15:
    status: backlog
    completion: 0%
    stories: 4/4
    summary: "Codebase Explorer for PMs (RAG-Powered Q&A)"
    priority: "P2 (Standalone value prop ‚Äî Codebase Intelligence)"
    planned_start: "Phase 4"
    dependencies: "Blocked by: Epic 9 (needs code indexing)"
    deliverables:
      - 15-1-document-ingestion-pipeline: backlog    # Ingest repos, docs, Confluence, Notion
      - 15-2-rag-embedding-retrieval: backlog        # Chunk + embed + vector search
      - 15-3-conversational-qa-ui: backlog           # Chat interface for PM questions
      - 15-4-source-citation-system: backlog         # Answers cite file:line and doc sources

  # ‚ö™ BACKLOG ‚Äî PRODUCT QUALITY TRACK (from EPIC-FUTURE-FEATURES.md + EPIC-ONBOARDING-GAPS.md)
  epic-16:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Enhanced Ticket Context (Images + Text)"
    priority: "P2 (Richer wizard input ‚Üí better specs)"
    planned_start: "Phase 5"
    dependencies: "None (standalone)"
    source: "EPIC-FUTURE-FEATURES.md Epic 1"
    deliverables:
      - 16-1-additional-context-ui: backlog           # Textarea + drag-and-drop image zone in Stage1Input
      - 16-2-storage-service: backlog                # Firebase Storage SDK wrapper ‚Äî uploadImage() ‚Üí URL
      - 16-3-upload-wizard-flow: backlog             # Wire uploads into wizard, store URLs via PATCH
      - 16-4-aec-context-images: backlog             # Extend AEC domain with contextImageUrls field + DTO
      - 16-5-multimodal-llm-context: backlog         # Pass images to DeepAnalysis + TechSpecGenerator

  epic-17:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Code Guardrails Detection"
    priority: "P2 (Specs respect project rules ‚Äî CLAUDE.md, ESLint, tsconfig)"
    planned_start: "Phase 5"
    dependencies: "None (standalone)"
    source: "EPIC-FUTURE-FEATURES.md Epic 2"
    deliverables:
      - 17-1-guardrails-value-object: backlog        # Guardrails domain type with rules, source, severity
      - 17-2-guardrails-detection: backlog           # Detect during deep analysis (config files + LLM extraction)
      - 17-3-guardrails-injection: backlog           # Inject into TechSpec generation prompts
      - 17-4-guardrails-stage2-ui: backlog           # Collapsible section in Stage2Context with edit modal
      - 17-5-guardrails-ticket-detail: backlog       # Show guardrails on ticket detail page

  epic-18:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Tech Spec Document + Artifacts Section"
    priority: "P2 (Formatted .md export + artifact storage)"
    planned_start: "Phase 5"
    dependencies: "Enhanced by: Epic 16 (images), Epic 19 (markdown preview)"
    source: "EPIC-FUTURE-FEATURES.md Epic 3"
    deliverables:
      - 18-1-techspec-markdown-generator: backlog    # Pure function: TechSpec JSON ‚Üí formatted Markdown
      - 18-2-artifact-storage-service: backlog       # Firebase Storage ‚Äî save/list/get artifacts per ticket
      - 18-3-finalize-spec-artifacts: backlog        # Wire into FinalizeSpecUseCase ‚Äî generate .md, upload, save refs
      - 18-4-artifacts-section-ui: backlog           # Ticket detail "Artifacts" section ‚Äî docs + images + download
      - 18-5-artifacts-api: backlog                  # Extend GET /tickets/:id with artifact references

  epic-19:
    status: backlog
    completion: 0%
    stories: 5/5
    summary: "Markdown Preview"
    priority: "P3 (Reusable foundation ‚Äî smallest scope)"
    planned_start: "Phase 5"
    dependencies: "None (standalone, consumed by Epic 18)"
    source: "EPIC-FUTURE-FEATURES.md Epic 4"
    deliverables:
      - 19-1-markdown-deps: backlog                  # Install react-markdown + remark-gfm + rehype-highlight
      - 19-2-markdown-renderer: backlog              # Reusable MarkdownRenderer atom component
      - 19-3-preview-route: backlog                  # /preview route ‚Äî accepts ?url= param, renders .md
      - 19-4-markdown-preview-drawer: backlog        # MarkdownPreviewDrawer using shadcn Sheet
      - 19-5-syntax-highlight-theme: backlog         # Match Forge design system (github-dark/light)

  epic-20:
    status: backlog
    completion: 0%
    stories: 4/4
    summary: "Spec Quality (API Detection, BE/FE Split, Test Plan, API Editor)"
    priority: "P2 (Immediate ticket quality improvement)"
    planned_start: "Phase 5"
    dependencies: "None (standalone)"
    source: "EPIC-ONBOARDING-GAPS.md Stories 1-3 + manual API editor"
    deliverables:
      - 20-1-api-endpoint-detection: backlog         # Detect API routes/controllers/DTOs, add "API Changes" section
      - 20-2-backend-client-split: backlog           # Group changes into "Backend Changes" / "Client Changes" sections
      - 20-3-test-plan-generation: backlog           # Generate "Test Plan" section (unit, integration, edge cases)
      - 20-4-api-editor: backlog                     # Mini Postman: add/edit APIs (from detected or new), URL, method, payload, request/response

  epic-21:
    status: backlog
    completion: 0%
    stories: 2/2
    summary: "Notifications (In-App + Email)"
    priority: "P3 (Polish ‚Äî spec_ready, drift_detected, export_completed)"
    planned_start: "Phase 6"
    dependencies: "Blocked by: Epic 5 (export events)"
    source: "EPIC-ONBOARDING-GAPS.md Stories 7-8"
    deliverables:
      - 21-1-in-app-notifications: backlog           # Bell icon + dropdown, event types, Firestore persistence
      - 21-2-email-notifications: backlog            # SendGrid/Resend, settings toggle, unsubscribe, rate limit

  epic-22:
    status: backlog
    completion: 0%
    stories: 4/4
    summary: "AI Wireframe Generation from Tickets (Excalidraw output)"
    priority: "P2 (Visual output from tickets ‚Äî high perceived value)"
    planned_start: "Phase 5"
    dependencies: "Enhanced by: Epic 20 (API data ‚Üí form fields), Epic 1 (image context)"
    source: "BMAD create-wireframe workflow pattern"
    deliverables:
      - 22-1-wireframe-generation-service: backlog  # LLM ‚Üí Excalidraw JSON using BMAD templates/helpers
      - 22-2-wireframe-api-endpoint: backlog        # POST /tickets/:id/generate-wireframe with SSE streaming
      - 22-3-wireframe-viewer-download: backlog     # Frontend: generate button, progress, preview, download .excalidraw
      - 22-4-smart-screen-detection: backlog        # Auto-detect screens from tech spec, file paths, API shapes

# METRICS & SUMMARY
# =================
metrics:
  total_epics: 19
  completed_epics: 4
  in_progress_epics: 1
  backlog_epics: 14

  total_stories: 87
  completed_stories: 19
  in_review_stories: 1
  backlog_stories: 67

  overall_completion: "22%"
  critical_path: "Epic 0 (finish) ‚Üí Epic 10 + 11 ‚Üí Epic 5 + 12 ‚Üí Epic 13 ‚Üí Epic 14 + 15"

# EXECUTION ROADMAP
# =================
# Epics 3, 4, 6, 7, 8 removed ‚Äî no longer relevant to product direction.
# Focus shifted from "production quality features" to "monetization + PM persona."

execution_path: "PATH B: Monetization First"

phases:
  phase-0:
    name: "üî¥ PRE-LAUNCH GATE (Epic 0)"
    duration: "1-2 days"
    stories: ["0.1-0.4"]
    deliverables:
      - "Anthropic API verified working in production"
      - "Cheapest vision-capable model selected (Haiku 3.5)"
      - "Free tier: 3 tickets/workspace enforced"
      - "Mock pricing page live (no Stripe yet)"
    success_criteria: "Can demo the product with real LLM, users see limits + pricing"
    outcome: "Production-ready for early users"

  phase-1:
    name: "Revenue + Launch Readiness (Epics 10 + 11)"
    duration: "3-4 weeks"
    parallel: true
    stories: ["10.1-10.6", "11.1-11.5"]
    deliverables:
      - "Stripe Checkout + Billing working"
      - "Subscription guard enforcing free tier limits"
      - "Usage metering counting tickets per month"
      - "Landing page live with pricing"
      - "Sentry + PostHog integrated"
      - "ToS + Privacy Policy pages"
    success_criteria: "Can accept payments, enforce limits, track usage"
    outcome: "Revenue-ready ‚Äî can start charging"

  phase-2:
    name: "Export Integrations + GitHub-Free Mode (Epics 5 + 12)"
    duration: "3-4 weeks"
    parallel: true
    stories: ["5.1-5.5", "12.1-12.3"]
    deliverables:
      - "Linear export working (OAuth + one-click)"
      - "Jira export working (OAuth 2.0 + field mapping)"
      - "GitHub Issues export"
      - "Manual context wizard path (no repo needed)"
      - "Tech stack presets for PM users"
    success_criteria: "Tickets flow to Linear/Jira; PMs can use Forge without GitHub"
    outcome: "Full workflow loop + PM persona unlocked"

  phase-3:
    name: "Team Workspace + Roles (Epic 13)"
    duration: "3-4 weeks"
    stories: ["13.1-13.5"]
    deliverables:
      - "Role-based workspace model (admin, pm, developer, viewer)"
      - "Invite system with role assignment"
      - "RoleGuard enforcing permissions"
      - "Adaptive UI per role"
      - "Onboarding role picker"
    success_criteria: "Dev invites PM, PM generates tickets on connected repo"
    outcome: "Team tier sellable ‚Äî seat expansion activated"

  phase-4:
    name: "Advanced Features (Epics 14 + 15)"
    duration: "4-6 weeks"
    parallel: true
    stories: ["14.1-14.3", "15.1-15.4"]
    deliverables:
      - "Multi-repo selection + merged analysis"
      - "Cross-repo ticket generation"
      - "RAG-powered codebase Q&A for PMs"
      - "Source citation system"
    success_criteria: "Full-stack ticket generation + PM self-service Q&A"
    outcome: "Enterprise-grade product differentiation"

  # üîß PRODUCT QUALITY TRACK (from epic files)
  phase-5:
    name: "Product Quality (Epics 16-20)"
    duration: "4-6 weeks"
    parallel: true  # Most are standalone
    stories: ["16.1-16.5", "17.1-17.5", "18.1-18.5", "19.1-19.5", "20.1-20.4", "22.1-22.4"]
    deliverables:
      - "Image/text context in wizard (richer specs)"
      - "Code guardrails auto-detection (CLAUDE.md, ESLint, tsconfig)"
      - "Formatted .md export + artifact storage per ticket"
      - "Markdown preview component + route"
      - "API detection + BE/FE split + test plans + API editor in specs"
      - "AI wireframe generation from tickets (Excalidraw output)"
    success_criteria: "Tickets include images, guardrails, artifacts, test plans, API changes, wireframes"
    outcome: "Enterprise-grade spec quality + visual wireframes"

  phase-6:
    name: "Polish (Epic 21)"
    duration: "1-2 weeks"
    stories: ["21.1-21.2"]
    deliverables:
      - "In-app notification bell with event feed"
      - "Email notifications (SendGrid/Resend)"
    success_criteria: "Users notified on spec_ready, drift_detected, export_completed"
    outcome: "Complete product loop"

timeline:
  total_duration: "20-30 weeks (full roadmap)"
  revenue_readiness: "After Phase 1 (3-4 weeks)"
  pm_persona_unlocked: "After Phase 2 (6-8 weeks)"
  team_tier_sellable: "After Phase 3 (9-12 weeks)"
  enterprise_features: "After Phase 4 (13-18 weeks)"
  product_quality: "After Phase 5 (17-24 weeks)"
  full_polish: "After Phase 6 (20-30 weeks)"

# RISKS
# =====
risks:
  - risk: "Stripe integration complexity (webhook reliability, edge cases)"
    mitigation: "Use Stripe Checkout hosted page, minimize custom code"
    probability: "Low"

  - risk: "Linear/Jira OAuth approval process for marketplace listing"
    mitigation: "Start with API key auth, upgrade to OAuth later"
    probability: "Medium"

  - risk: "RAG accuracy for codebase Q&A (Epic 15)"
    mitigation: "Start with repo README + docs only, expand sources incrementally"
    probability: "Medium"

# DECISION POINTS
# ===============
decisions:
  next_epic: "Epic 0 (Pre-Launch Gate) ‚Äî URGENT, ship today"
  after_that: "Epic 10 (Stripe + Subscriptions) ‚Äî the revenue unlock"
  rollout_strategy: "Revenue (Phase 1) ‚Üí Integrations + PM Mode (Phase 2) ‚Üí Teams (Phase 3) ‚Üí Enterprise (Phase 4)"

# NOTES
# =====
standup_notes: |
  ‚úÖ MVP complete ‚Äî Epics 1, 1.5, 2, 9 all done
  ‚úÖ Deployed to Vercel (frontend) + Render (backend)
  ‚úÖ Epic 0: 3/4 stories done (production API, cheapest model, free tier quota)
  ‚úÖ Story 0-4 (pricing page) in review ‚Äî Free $0, Pro $12, Team $59
  ‚úÖ Free tier: 3 tickets enforced (15 for admin), sidebar quota banner live
  ‚úÖ Login screen redesigned (horizontal 35/65 split with animated orbs)
  ‚úÖ Ticket status toggle (Draft ‚Üî Complete) implemented
  ‚úÖ Epic 22 added: AI Wireframe Generation (Excalidraw output)
  ‚úÖ Story 20-4 added: Interactive API Editor (mini Postman)
  ‚úÖ Epic 10 story 10-6 (Pricing UI) done via 0-4
  ‚úÖ Documentation cleaned: 78+ files archived, 13 core files remain
  ‚ùå Old epics 3, 4, 6, 7, 8 removed (superseded)

  üìä Totals: 19 epics | 87 stories | 19 done | 1 review | 67 backlog

  üéØ Execution:
  Phase 0: PRE-LAUNCH GATE (Epic 0) ‚Äî 1 story left (0-4 in review) ‚Üê ALMOST DONE
  Phase 1: Revenue unlock (Epics 10 + 11) ‚Äî 3-4 weeks     ‚Üê START CHARGING
  Phase 2: Integrations + PM mode (Epics 5 + 12) ‚Äî 3-4 weeks
  Phase 3: Team tier (Epic 13) ‚Äî 3-4 weeks                 ‚Üê SEAT EXPANSION
  Phase 4: Advanced (Epics 14 + 15) ‚Äî 4-6 weeks
  Phase 5: Product quality (Epics 16-20, 22) ‚Äî 4-6 weeks   ‚Üê ENTERPRISE SPECS + WIREFRAMES
  Phase 6: Polish (Epic 21) ‚Äî 1-2 weeks

  üí∞ Revenue milestone: ~3-4 weeks
  üöÄ Full roadmap: ~20-30 weeks
